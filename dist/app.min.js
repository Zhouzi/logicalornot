!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=n(1),a=s(i),r=n(2),o=s(r),u=new a["default"];new o["default"](u)},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=s(r),u=function(){function e(){i(this,e),this.$modal=document.getElementById("modal"),this.$lifebar=document.getElementById("life-bar"),this.$question=document.getElementById("question"),this.$taunt=document.getElementById("taunt"),this.$answerLeftLabel=document.getElementById("answer-left-label"),this.$answerLeftButton=document.getElementById("answer-left-button"),this.$answerUpLabel=document.getElementById("answer-up-label"),this.$answerUpButton=document.getElementById("answer-up-button"),this.$answerRightLabel=document.getElementById("answer-right-label"),this.$answerRightButton=document.getElementById("answer-right-button"),this.$replayButton=document.getElementById("replay-button"),this.$wins=document.getElementById("wins"),this.$loses=document.getElementById("loses"),this.$tweetMyGameButton=document.getElementById("tweet-my-game-button"),this.$bestScore=document.getElementById("best-score"),this.$bloody=document.getElementById("bloody"),this.$normalModeButton=document.getElementById("normal-mode"),this.$hardcoreModeButton=document.getElementById("hardcore-mode"),this.bind()}return a(e,[{key:"bind",value:function(){function e(e){if(!this.isGameOverScreenVisible()){var t=e.getAttribute("data-event-data");o["default"].publish("selectAnswer",t)}}function t(){this.isGameOverScreenVisible()&&o["default"].publish("newGame")}var n=this;this.$answerLeftButton.addEventListener("click",e.bind(this,this.$answerLeftButton),!1),this.$answerUpButton.addEventListener("click",e.bind(this,this.$answerUpButton),!1),this.$answerRightButton.addEventListener("click",e.bind(this,this.$answerRightButton),!1),this.$replayButton.addEventListener("click",t.bind(this),!1);var s={37:"left",38:"up",39:"right",32:"spacebar"},i={left:this.$answerLeftButton,up:this.$answerUpButton,right:this.$answerRightButton,spacebar:this.$replayButton};document.addEventListener("keydown",function(e){var t=s[e.which],n=i[t];null!=n&&(n.classList.add("active"),e.preventDefault())}),document.addEventListener("keyup",function(a){var r=s[a.which],o=i[r];null!=o&&(o.classList.remove("active"),o===n.$replayButton?t.call(n):e.call(n,o),a.preventDefault())}),this.$normalModeButton.addEventListener("click",function(){n.$normalModeButton.classList.contains("active")||(n.$normalModeButton.classList.add("active"),n.$hardcoreModeButton.classList.remove("active"),o["default"].publish("newGame","normal"))},!1),this.$hardcoreModeButton.addEventListener("click",function(){n.$hardcoreModeButton.classList.contains("active")||(n.$hardcoreModeButton.classList.add("active"),n.$normalModeButton.classList.remove("active"),o["default"].publish("newGame","hardcore"))},!1)}},{key:"setTaunt",value:function(e,t){var n=this;this.$taunt.innerHTML=e,"mean"===t&&(this.$bloody.classList.add("u-no-transition"),this.$bloody.classList.add("active"),this.$bloody.classList.remove("u-no-transition"),setTimeout(function(){return n.$bloody.classList.remove("active")},200))}},{key:"setQuestion",value:function(e){this.$question.innerHTML=e.question,this.$answerLeftLabel.innerHTML=e.answers[0],this.$answerLeftButton.setAttribute("data-event-data",e.answers[0]),this.$answerUpLabel.innerHTML=e.answers[1],this.$answerUpButton.setAttribute("data-event-data",e.answers[1]),this.$answerRightLabel.innerHTML=e.answers[2],this.$answerRightButton.setAttribute("data-event-data",e.answers[2])}},{key:"setLifebar",value:function(e,t){this.$lifebar.style.width=e+"%","normal"===t&&(this.$lifebar.classList.remove("life-bar--low"),this.$lifebar.classList.remove("life-bar--critical")),"low"===t&&(this.$lifebar.classList.remove("life-bar--critical"),this.$lifebar.classList.add("life-bar--low")),"critical"===t&&(this.$lifebar.classList.remove("life-bar--low"),this.$lifebar.classList.add("life-bar--critical"))}},{key:"showGameOverScreen",value:function(e,t,n){var s=this;this.$wins.innerHTML=e,this.$loses.innerHTML=t;var i=encodeURIComponent("Boom! Just made a score of "+e+"/"+n+", come and beat me! #logicalornot http://gabinaureche.com/logicalornot via @zh0uzi");this.$tweetMyGameButton.setAttribute("href","https://twitter.com/home?status="+i),this.$modal.classList.remove("u-hide"),setTimeout(function(){return s.$modal.classList.add("active")},100)}},{key:"hideGameOverScreen",value:function(){var e=this;this.$modal.classList.remove("active"),setTimeout(function(){return e.$modal.classList.add("u-hide")},500)}},{key:"isGameOverScreenVisible",value:function(){return this.$modal.classList.contains("active")}},{key:"setBestScore",value:function(e){this.$bestScore.innerHTML=e}},{key:"animateIntro",value:function(){setTimeout(function(){return document.body.classList.add("active")},500)}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=s(r),u=n(4),l=s(u),f=n(6),c=s(f),d=n(7),h=s(d),m=n(8),w=s(m),v=n(5),b=s(v),p=function(){function e(t){i(this,e),this.view=t,this.game=null,this.updateBestScore(window.localStorage.getItem("bestScore")||0),o["default"].subscribe("selectAnswer",this.selectAnswer.bind(this)).subscribe("newGame",this.newGame.bind(this)).subscribe("updateLifebar",this.updateLifeBar.bind(this)).subscribe("gameOver",this.showGameOverScreen.bind(this)).subscribe("newQuestion",this.view.setQuestion.bind(this.view)),this.newGame(),this.view.animateIntro()}return a(e,[{key:"selectAnswer",value:function(e){this.game.submitAnswer(e),this.game.currentQuestion.isCorrect(e)?(this.setRandomTaunt("nice"),this.riseLifeBar()):(this.setRandomTaunt("mean"),this.dropLifeBar()),"game over"===this.game.status?this.showGameOverScreen():this.game.setRandomQuestion()}},{key:"riseLifeBar",value:function(){var e=this.game.currentQuestion.complexity,t=this.game.gameplay.gaps.winning[e];this.game.timer.delay(t)}},{key:"dropLifeBar",value:function(){var e=this.game.currentQuestion.complexity,t=this.game.gameplay.gaps.losing[e];this.game.timer.forward(t)}},{key:"showGameOverScreen",value:function(){var e=this.game.score,t=e.length,n=e.reduce(function(e,t){return e+t},0),s=t-n;this.updateBestScore(Math.max(this.bestScore,n)),this.view.showGameOverScreen(n,s,t)}},{key:"updateBestScore",value:function(e){this.bestScore=e,window.localStorage.setItem("bestScore",this.bestScore),this.view.setBestScore(this.bestScore)}},{key:"newGame",value:function(){var e=void 0===arguments[0]?"normal":arguments[0];this.view.hideGameOverScreen(),this.game&&this.game.stop(),this.game=new l["default"](c["default"][e],h["default"].slice()),this.updateLifeBar(),this.setTaunt("So, what's the result of...")}},{key:"setTaunt",value:function(e){var t=void 0===arguments[1]?"nice":arguments[1],n="string"==typeof e?e:w["default"][t][e];this.view.setTaunt(n,t)}},{key:"setRandomTaunt",value:function(e){var t=w["default"][e];return this.setTaunt(b["default"](0,t.length-1),e)}},{key:"updateLifeBar",value:function(){this.view.setLifebar(this.game.lifebar.hp,this.game.lifebar.state)}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};t["default"]={subscribe:function(e,t){return null==s[e]&&(s[e]=[]),s[e].push(t),this},publish:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];var a=s[e]||[];return a.forEach(function(e){e.apply(void 0,n)}),this}},e.exports=t["default"]},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=s(r),u=n(9),l=s(u),f=n(10),c=s(f),d=n(11),h=s(d),m=n(5),w=s(m),v=n(12),b=s(v),p=function(){function e(t,n){i(this,e),this.gameplay=t,this.questions=n,this.lifebar=new c["default"],this.status="ready",this.timer=null,this.currentQuestion={},this.score=[],this.setRandomQuestion()}return a(e,[{key:"start",value:function(){var e=this;"ready"===this.status&&(this.status="playing",this.timer=new l["default"](0,100,this.gameplay.duration),this.timer.start(function(t){t.done?(e.stop(),e.lifebar.hp=0,o["default"].publish("gameOver")):e.lifebar.hp=t.currentValue,o["default"].publish("updateLifebar")}))}},{key:"stop",value:function(){"playing"===this.status&&(this.status="game over",null!=this.timer&&this.timer.stop())}},{key:"setRandomQuestion",value:function(){if("game over"!==this.status){var e=w["default"](0,this.questions.length-1),t=this.questions.splice(e,1)[0];this.gameplay.shuffleAnswers&&b["default"](t.answers),this.currentQuestion=new h["default"](t.question,t.answers),o["default"].publish("newQuestion",this.currentQuestion),0===this.questions.length&&this.stop()}}},{key:"submitAnswer",value:function(e){"game over"!==this.status&&("ready"===this.status&&this.start(),this.score.push(Number(this.currentQuestion.isCorrect(e))))}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.exports=t["default"]},function(e,t,n){e.exports={normal:{duration:15,timer:!0,shuffleAnswers:!0,gaps:{winning:[15,15,15],losing:[0,0,0]}},hardcore:{duration:15,timer:!0,shuffleAnswers:!1,gaps:{winning:[1,2,3],losing:[3,2,1]}}}},function(e,t,n){e.exports=[{question:"false || true",answers:["false","true","undefined"]},{question:"null && false",answers:["null","false","true"]},{question:"(false && 'bar') || 'foo'",answers:["false","'bar'","'foo'"]},{question:"'foo' || 'bar'",answers:["'foo'","'bar'","true"]},{question:"'foo' && 'bar' || 'quz'",answers:["'foo'","'bar'","'quz'"]},{question:"!'foo' && 'bar'",answers:["true","'bar'","false"]},{question:"'foo' && !(false && null)",answers:["'foo'","false","true"]},{question:"!undefined || 'foo'",answers:["true","'foo'","false"]},{question:"'foo' || !!'bar'",answers:["'foo'","true","false"]},{question:"(null && 'foo') || 'bar'",answers:["null","'foo'","'bar'"]},{question:"(null || []).push('foo')",answers:["null","['foo']","1"]},{question:"('foo' || 'bar').indexOf('f')",answers:["-1","0","1"]},{question:"null || 'foo' && 'bar'",answers:["null","'foo'","'bar'"]},{question:"[] && [].push('foo')",answers:["'foo'","['foo']","1"]},{question:"null || [] || {}",answers:["null","[]","{}"]},{question:"!!!'foo'",answers:["'foo'","true","false"]},{question:"![].length",answers:["false","true","0"]},{question:"'foo' && ('bar' || null)",answers:["'foo'","'bar'","null"]},{question:"'foo' !== ('foo' && 'bar')",answers:["'foo'","true","false"]},{question:"2 > (3 && 0)",answers:["false","true","2"]},{question:"false && false",answers:["false","true","null"]},{question:"!false || 'foo'",answers:["false","'foo'","true"]},{question:"1 >= 1",answers:["1","true","false"]},{question:"!!['foo'].indexOf('foo')",answers:["0","true","false"]},{question:"0 == false",answers:["0","false","true"]},{question:"1 > 2",answers:["1","true","false"]},{question:"!!'foo'",answers:["'foo'","true","false"]},{question:"'foo' == 'bar'",answers:["'foo'","true","false"]},{question:"0 || 1",answers:["0","1","true"]},{question:"1 === true",answers:["1","true","false"]},{question:"null == undefined",answers:["null","true","false"]},{question:"null == 0",answers:["null","true","false"]},{question:"null > -1",answers:["null","true","false"]},{question:"null < 1",answers:["null","true","false"]},{question:"false == ''",answers:["true","false","''"]},{question:"(function(){}).length == 0",answers:["0","false","true"]}]},function(e,t,n){e.exports={nice:["Such skills!","Damn good!","That was easy...","Nice one!","Bingo!","You really know your stuff!","Score!","Excellent!","You're an inspiration","Like the Willy Wonka of JS. Magical."],mean:["Come on!","...","Really dude?","Do you even javascript?","Haha!","Are u kidding me?","Oh dear...","*sigh*","Try using the force, Luke"]}},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=s(r),u=60,l=function(e,t,n,s){return-n*(e/=s)*(e-2)+t},f=function(){function e(t,n,s){i(this,e),this._timerId=null,this.minValue=t,this.maxValue=n,this.iteration=0,this.totalIterations=s*u}return a(e,[{key:"start",value:function(e){(function t(){if(this.iteration>=this.totalIterations)return e({currentValue:this.maxValue,done:!0}),void(this._timerId=null);var n=l(this.iteration,this.minValue,this.maxValue,this.totalIterations),s=this.maxValue-n;e({currentValue:s,done:!1}),this.iteration++,this._timerId=o["default"].request(t.bind(this,e))}).bind(this)()}},{key:"stop",value:function(){o["default"].cancel(this._timerId)}},{key:"delay",value:function(e){this.iteration=Math.max(this.iteration-e*u,0)}},{key:"forward",value:function(e){this.iteration=Math.min(this.iteration+e*u,this.totalIterations)}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){s(this,e),this.hp=100}return i(e,[{key:"hp",set:function(e){this._hp=e,this.state=e>50?"normal":e>20?"low":"critical"},get:function(){return this._hp}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=s(r),u=function(){function e(t,n){i(this,e),this.question=t,this.answers=n}return a(e,[{key:"isCorrect",value:function(e){return o["default"](this.question,e)}},{key:"complexity",get:function(){var e=this.question.length;return e>=15?2:e>=10?1:0}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){for(var t,n,s=e.length;s;t=Math.floor(Math.random()*s),n=e[--s],e[s]=e[t],e[t]=n);return e},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}).bind(window),i=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout).bind(window);t["default"]={request:s,cancel:i},e.exports=t["default"]},function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=s(i);t["default"]=function(e,t){return a["default"](e)===a["default"](t)},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return"string"!=typeof(e=eval.call(void 0,e))?JSON.stringify(e):e},e.exports=t["default"]}]);