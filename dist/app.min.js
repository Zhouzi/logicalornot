!function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},s=r(1),a=n(s),i=r(2),o=n(i),u=r(3),l=n(u),f=new a["default"](document,o["default"],l["default"]);setTimeout(function(){return f.animateIntro()},500)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),o=n(i),u=r(5),l=n(u),f=r(6),c=n(f),h=r(7),d=n(h),w=function(){function e(t,r,n){s(this,e),this.questions=r,this.taunts=n,this.stream=new c["default"](this),this.view=new l["default"](t,this.stream),this.mode="normal",this.round=null,this.bestScore=d["default"].getItem("bestScore")||0,this.updateBestScore(),this.bind(),this.newRound()}return a(e,[{key:"animateIntro",value:function(){this.view.render("body","addClass","active")}},{key:"bind",value:function(){var e=this;this.stream.subscribe("round:newQuestion",function(t){e.view.render("question","html",t.question),e.view.render("answer-left-label","html",t.answers.left.answer),e.view.render("answer-up-label","html",t.answers.up.answer),e.view.render("answer-right-label","html",t.answers.right.answer)}).subscribe("round:updateLifeBar",function(t){e.view.render("life-bar","css",{width:""+t+"%"})}).subscribe("round:updateLifeBarState",function(t){"normal"===t?(e.view.render("life-bar","removeClass","life-bar--low"),e.view.render("life-bar","removeClass","life-bar--critical")):"low"===t?(e.view.render("life-bar","removeClass","life-bar--critical"),e.view.render("life-bar","addClass","life-bar--low")):"critical"===t&&(e.view.render("life-bar","removeClass","life-bar--low"),e.view.render("life-bar","addClass","life-bar--critical"))}).subscribe("round:newTaunt",function(t,r){e.view.render("taunt","html",t),"mean"===r&&(e.view.render("bloody","addClass","u-no-transition"),e.view.render("bloody","addClass","active"),e.view.render("bloody","removeClass","u-no-transition"));var n=e;setTimeout(function(){"mean"===r&&n.view.render("bloody","removeClass","active")},200)}).subscribe("round:gameOver",function(t){var r=t.join("").match(/1/g);r=r?r.length:0;var n=t.length-r;e.view.render("wins","html",r),e.view.render("loses","html",n);var s="https://twitter.com/home?status=",a=encodeURIComponent("Boom! Just made a score of "+r+"/"+t.length+", come and beat me! #logicalornot http://gabinaureche.com/logicalornot via @zh0uzi");e.view.render("tweet-my-game-button","attr",{href:s+a}),e.bestScore=Math.max(e.bestScore,r),e.updateBestScore(),e.view.render("modal","removeClass","u-hide");var i=e;setTimeout(function(){return i.view.render("modal","addClass","active")},100)}).subscribe("view:newRound",this.newRound.bind(this)).subscribe("view:selectAnswer",function(t){return e.round.submitAnswer(t)}).subscribe("view:normal-mode",function(){e.mode="normal",e.newRound.call(e,"normal")}).subscribe("view:hardcore-mode",function(){e.mode="hardcore",e.newRound.call(e,"hardcore")})}},{key:"updateBestScore",value:function(){d["default"].setItem("bestScore",this.bestScore),this.view.render("best-score","html",this.bestScore)}},{key:"newRound",value:function(){var e=this;this.round&&("game over"===this.round.status&&!function(){e.view.render("modal","removeClass","active");var t=e;setTimeout(function(){return t.view.render("modal","addClass","u-hide")},500)}(),this.round.stop()),this.round=new o["default"](this.questions,this.taunts,this.stream,this.mode)}}]),e}();t["default"]=w,e.exports=t["default"]},function(e,t,r){e.exports=[{question:"false || true",answers:{left:{answer:"false"},up:{answer:"true",correct:!0},right:{answer:"undefined"}}},{question:"null && false",answers:{left:{answer:"null",correct:!0},up:{answer:"false"},right:{answer:"true"}}},{question:"(false && 'bar') || 'foo'",answers:{left:{answer:"false"},up:{answer:"'bar'"},right:{answer:"'foo'",correct:!0}}},{question:"'foo' || 'bar'",answers:{left:{answer:"'foo'",correct:!0},up:{answer:"'bar'"},right:{answer:"true"}}},{question:"'foo' && 'bar' || 'quz'",answers:{left:{answer:"'foo'"},up:{answer:"'bar'",correct:!0},right:{answer:"'quz'"}}},{question:"!'foo' && 'bar'",answers:{left:{answer:"'foo'"},up:{answer:"'bar'"},right:{answer:"false",correct:!0}}},{question:"'foo' && !(false && null)",answers:{left:{answer:"'foo'"},up:{answer:"false"},right:{answer:"true",correct:!0}}},{question:"!undefined || 'foo'",answers:{left:{answer:"true",correct:!0},up:{answer:"'foo'"},right:{answer:"false"}}},{question:"'foo' || !!'bar'",answers:{left:{answer:"'foo'",correct:!0},up:{answer:"true"},right:{answer:"false"}}},{question:"(null && 'foo') || 'bar'",answers:{left:{answer:"null"},up:{answer:"'foo'"},right:{answer:"'bar'",correct:!0}}},{question:"(null || []).push('foo')",answers:{left:{answer:"null"},up:{answer:"['foo']"},right:{answer:"1",correct:!0}}},{question:"('foo' || 'bar').indexOf('f')",answers:{left:{answer:"-1"},up:{answer:"0",correct:!0},right:{answer:"1"}}},{question:"null || 'foo' && 'bar'",answers:{left:{answer:"null"},up:{answer:"'foo'"},right:{answer:"'bar'",correct:!0}}},{question:"[] && [].push('foo')",answers:{left:{answer:"'foo'"},up:{answer:"['foo']"},right:{answer:"1",correct:!0}}},{question:"null || [] || {}",answers:{left:{answer:"null"},up:{answer:"[]",correct:!0},right:{answer:"'{}'"}}},{question:"!!!'foo'",answers:{left:{answer:"'foo'"},up:{answer:"true"},right:{answer:"false",correct:!0}}},{question:"![].length",answers:{left:{answer:"false"},up:{answer:"true",correct:!0},right:{answer:"0"}}},{question:"'foo' && ('bar' || null)",answers:{left:{answer:"'foo'"},up:{answer:"'bar'",correct:!0},right:{answer:"null"}}},{question:"'foo' !== ('foo' && 'bar')",answers:{left:{answer:"'foo'"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"2 > (3 && 0)",answers:{left:{answer:"false"},up:{answer:"true",correct:!0},right:{answer:"2"}}},{question:"false && false",answers:{left:{answer:"false",correct:!0},up:{answer:"true"},right:{answer:"null"}}},{question:"!false || 'foo'",answers:{left:{answer:"false"},up:{answer:"'foo'"},right:{answer:"true",correct:!0}}},{question:"1 >= 1",answers:{left:{answer:"1"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"!!['foo'].indexOf('foo')",answers:{left:{answer:"0"},up:{answer:"1"},right:{answer:"false",correct:!0}}},{question:"0 == false",answers:{left:{answer:"0"},up:{answer:"false"},right:{answer:"true",correct:!0}}},{question:"1 > 2",answers:{left:{answer:"1"},up:{answer:"true"},right:{answer:"false",correct:!0}}},{question:"!!'foo'",answers:{left:{answer:"'foo'"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"'foo' == 'bar'",answers:{left:{answer:"'foo'"},up:{answer:"true"},right:{answer:"false",correct:!0}}},{question:"0 || 1",answers:{left:{answer:"0"},up:{answer:"1",correct:!0},right:{answer:"true"}}},{question:"1 === true",answers:{left:{answer:"1"},up:{answer:"true"},right:{answer:"false",correct:!0}}},{question:"null == undefined",answers:{left:{answer:"null"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"null == 0",answers:{left:{answer:"null"},up:{answer:"0"},right:{answer:"false",correct:!0}}},{question:"null > -1",answers:{left:{answer:"null"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"null < 1",answers:{left:{answer:"null"},up:{answer:"true",correct:!0},right:{answer:"false"}}},{question:"false == ''",answers:{left:{answer:"true",correct:!0},up:{answer:"false"},right:{answer:"''"}}},{question:"(function(){}).length == 0",answers:{left:{answer:"0"},up:{answer:"false"},right:{answer:"true",correct:!0}}}]},function(e,t,r){e.exports={nice:["So, what's the result of...","Such skills!","Damn good!","That was easy...","Nice one!","Bingo!","You really know your stuff!","Score!","Excellent!","You're an inspiration","Like the Willy Wonka of JS. Magical."],mean:["Come on!","...","Really dude?","Do you even javascript?","Haha!","Are u kidding me?","Oh dear...","*sigh*","Try using the force, Luke"]}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),o=n(i),u=r(9),l=n(u),f=r(10),c=n(f),h=r(11),d=n(h),w=r(12),m=n(w),v=r(13),p=n(v),g=60,b=function(){function e(t,r,n,a){s(this,e),this.questions=d["default"](t),this.taunts=r,this.stream=n,this.gameplay=o["default"][a],this.status="ready",this.taunt=null,this.score=[],this.currentQuestion={},this.lifeBar=100,this.lifeBarState=null,this._animateId=null,this.config={timer:this.gameplay.timer,minValue:0,maxValue:100,iteration:0,totalIterations:this.gameplay.duration*g},this.setLifeBarHp(this.config.maxValue),this.updateLifeBarState(),this.setTaunt(0,"nice"),this.setRandomQuestion(),this.animate()}return a(e,[{key:"animate",value:function(){if("game over"!==this.status){if("playing"===this.status){if(this.config.iteration>=this.config.totalIterations)return this.setLifeBarHp(0),this.updateLifeBarState(),void this.stop(!0);var e=p["default"](this.config.iteration,this.config.minValue,this.config.maxValue,this.config.totalIterations);this.setLifeBarHp(this.config.maxValue-e),this.config.timer&&this.config.iteration++}this._animateId=l["default"](this.animate.bind(this))}}},{key:"stop",value:function(){var e=void 0===arguments[0]?!1:arguments[0];this.status="game over",c["default"](this._animateId),e&&this.stream.publish("round:gameOver",this.score)}},{key:"setQuestion",value:function(e){return this.currentQuestion=e,this.stream.publish("round:newQuestion",this.currentQuestion),this.currentQuestion}},{key:"setRandomQuestion",value:function(){var e=m["default"](0,this.questions.length-1),t=this.questions.splice(e,1)[0];this.setQuestion(t)}},{key:"submitAnswer",value:function(e){"game over"!==this.status&&(this.status="playing",this.currentQuestion.answers[e].correct===!0?(this.riseLifeBar(),this.score.push(1),this.setRandomTaunt("nice")):(this.dropLifeBar(),this.score.push(0),this.setRandomTaunt("mean")),"game over"!==this.status&&this.questions.length>0?this.setRandomQuestion():this.stop(!0))}},{key:"setTaunt",value:function(e){var t=void 0===arguments[1]?"nice":arguments[1];this.stream.publish("round:newTaunt",this.taunt=this.taunts[t][e],t)}},{key:"setRandomTaunt",value:function(e){var t=this.taunts[e];return this.setTaunt(m["default"](0,t.length-1),e)}},{key:"setLifeBarHp",value:function(e){this.lifeBar=e,this.updateLifeBarState(),this.stream.publish("round:updateLifeBar",e)}},{key:"updateLifeBarState",value:function(){var e=void 0;e=this.lifeBar>50?"normal":this.lifeBar>20?"low":"critical",this.lifeBarState!==e&&(this.lifeBarState=e,this.stream.publish("round:updateLifeBarState",e))}},{key:"riseLifeBar",value:function(){var t=e.getQuestionComplexity(this.currentQuestion.question),r=this.gameplay.gaps.winning[t]*g;this.config.iteration=Math.max(this.config.iteration-r,0)}},{key:"dropLifeBar",value:function(){var t=e.getQuestionComplexity(this.currentQuestion.question),r=this.gameplay.gaps.losing[t]*g;this.config.iteration=Math.min(this.config.iteration+r,this.config.totalIterations)}}],[{key:"getQuestionComplexity",value:function(e){var t=void 0;return t=e.length>=15?2:e.length>=10?1:0}}]),e}();t["default"]=b,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,r){n(this,e),this.$proxy="string"==typeof t?document.querySelector(t):t,this.stream=r,this.$elements={},this.$buttons={},this.bind()}return s(e,[{key:"bind",value:function(){for(var t=this,r=t.$proxy,n={37:"left",38:"up",39:"right",32:"spacebar"},s=document.querySelectorAll("[data-bind]"),a=0,i=s.length,o=void 0;i>a;a++){o=s[a];var u=e.getAttribute(o,"data-bind");t.$buttons[u]={element:o,eventName:e.getAttribute(o,"data-event"),eventData:e.getAttribute(o,"data-event-data")}}r.addEventListener("keydown",function(r){var s=n[r.which];if(s){var a=t.$buttons[s];e.addClass(a.element,"active"),r.preventDefault()}}),r.addEventListener("keyup",function(r){var s=n[r.which];if(s){var a=t.$buttons[s];e.removeClass(a.element,"active"),t.publishButtonData(a),r.preventDefault()}}),r.addEventListener("click",function(e){for(var r in t.$buttons)if(t.$buttons.hasOwnProperty(r)&&t.$buttons[r].element.contains(e.target))return e.preventDefault(),t.publishButtonData(t.$buttons[r])}),this.on("normal-mode","click",function(){this.render("normal-mode","hasClass","active")||(this.render("normal-mode","addClass","active"),this.render("hardcore-mode","removeClass","active"),this.stream.publish("view:normal-mode"))},this),this.on("hardcore-mode","click",function(){this.render("hardcore-mode","hasClass","active")||(this.render("hardcore-mode","addClass","active"),this.render("normal-mode","removeClass","active"),this.stream.publish("view:hardcore-mode"))},this)}},{key:"publishButtonData",value:function(e){this.stream.publish(e.eventName,e.eventData)}},{key:"$get",value:function(e){return e="bind-"+e,this.$elements[e]||(this.$elements[e]=document.getElementById(e)),this.$elements[e]}},{key:"render",value:function(t,r){for(var n=arguments.length,s=Array(n>2?n-2:0),a=2;n>a;a++)s[a-2]=arguments[a];return s.unshift(this.$get(t)),e[r].apply(this,s)}},{key:"on",value:function(e,t,r){var n=void 0===arguments[3]?this:arguments[3],s=r.bind(n);this.$proxy.addEventListener(t,function(t){var r=t.target,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.msMatchesSelector;n.call(r,"#bind-"+e)&&(s(t),t.preventDefault())})}}],[{key:"html",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e.innerHTML=t})},{key:"css",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return e}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"addClass",value:function(e,t){return e.classList.add(t)}},{key:"removeClass",value:function(e,t){return e.classList.remove(t)}},{key:"attr",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r]);return e}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){var t=void 0===arguments[0]?this:arguments[0];n(this,e),this.context=t,this.events={}}return s(e,[{key:"subscribe",value:function(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this}},{key:"publish",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var s=this.events[e]||[],a=this.context;return s.forEach(function(e){return e.apply(a,r)}),this}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return{getItem:e.getItem.bind(e),setItem:e.setItem.bind(e)}}(window.localStorage),e.exports=t["default"]},function(e,t,r){e.exports={normal:{duration:6,timer:!1,gaps:{winning:[1,2,3],losing:[3,2,1]}},hardcore:{duration:15,timer:!0,gaps:{winning:[1,2,3],losing:[3,2,1]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)};return function(){for(var r=arguments.length,n=Array(r),s=0;r>s;s++)n[s]=arguments[s];return t.apply(e,n)}}(window),e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||e.clearTimeout;return function(){for(var r=arguments.length,n=Array(r),s=0;r>s;s++)n[s]=arguments[s];return t.apply(e,n)}}(window),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){var t=void 0;if(e instanceof Array){t=[];for(var r=0,s=e.length;s>r;r++)t.push(n(e[r]))}else if("object"==typeof e){t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,r,n){return-r*(e/=n)*(e-2)+t},e.exports=t["default"]}]);