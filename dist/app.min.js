!function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},s=n(1),i=r(s),a=n(2),o=r(a),u=new i["default"];new o["default"](u)},function(e,t,n){"use strict";var r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){},a=function(){function e(){r(this,e),this.$modal=document.getElementById("bind-modal"),this.$lifeBar=document.getElementById("bind-life-bar"),this.$elements={},this.$buttons={},this.onSelectAnswer=i,this.onNewRound=i,this.bind()}return s(e,[{key:"bind",value:function(){for(var t=this,n={37:"left",38:"up",39:"right",32:"spacebar"},r=document.querySelectorAll("[data-bind]"),s=0,i=r.length,a=void 0;i>s;s++){a=r[s];var o=e.getAttribute(a,"data-bind");t.$buttons[o]={element:a,eventName:e.getAttribute(a,"data-event")}}document.addEventListener("keydown",function(r){var s=n[r.which];if(s){var i=t.$buttons[s];e.addClass(i.element,"active"),r.preventDefault()}}),document.addEventListener("keyup",function(r){var s=n[r.which];if(s){var i=t.$buttons[s];e.removeClass(i.element,"active"),t.publishButtonData(i),r.preventDefault()}}),document.addEventListener("click",function(e){for(var n in t.$buttons)if(t.$buttons.hasOwnProperty(n)&&t.$buttons[n].element.contains(e.target))return e.preventDefault(),t.publishButtonData(t.$buttons[n])}),this.on("normal-mode","click",function(){this.render("normal-mode","hasClass","active")||(this.render("normal-mode","addClass","active"),this.render("hardcore-mode","removeClass","active"),this.onNewRound("normal"))},this),this.on("hardcore-mode","click",function(){this.render("hardcore-mode","hasClass","active")||(this.render("hardcore-mode","addClass","active"),this.render("normal-mode","removeClass","active"),this.onNewRound("hardcore"))},this)}},{key:"publishButtonData",value:function(e){if(this.isGameOverScreenVisible())"view:newRound"===e.eventName&&this.onNewRound();else{var t=e.element.getAttribute("data-event-data");this.onSelectAnswer(t)}}},{key:"$get",value:function(e){return e="bind-"+e,this.$elements[e]||(this.$elements[e]=document.getElementById(e)),this.$elements[e]}},{key:"render",value:function(t,n){for(var r=arguments.length,s=Array(r>2?r-2:0),i=2;r>i;i++)s[i-2]=arguments[i];return s.unshift(this.$get(t)),e[n].apply(this,s)}},{key:"setTaunt",value:function(e,t){var n=this;this.render("taunt","html",e),"mean"===t&&(this.render("bloody","addClass","u-no-transition"),this.render("bloody","addClass","active"),this.render("bloody","removeClass","u-no-transition"),setTimeout(function(){return n.render("bloody","removeClass","active")},200))}},{key:"setQuestion",value:function(e){this.render("question","html",e.question),this.render("answer-left-label","html",e.answers[0]),this.render("answer-left-button","attr",{"data-event-data":e.answers[0].toString()}),this.render("answer-up-label","html",e.answers[1]),this.render("answer-up-button","attr",{"data-event-data":e.answers[1].toString()}),this.render("answer-right-label","html",e.answers[2]),this.render("answer-right-button","attr",{"data-event-data":e.answers[2].toString()})}},{key:"setLifebar",value:function(e,t){this.$lifeBar.style.width=e+"%","normal"===t&&(this.$lifeBar.classList.remove("life-bar--low"),this.$lifeBar.classList.remove("life-bar--critical")),"low"===t&&(this.$lifeBar.classList.remove("life-bar--critical"),this.$lifeBar.classList.add("life-bar--low")),"critical"===t&&(this.$lifeBar.classList.remove("life-bar--low"),this.$lifeBar.classList.add("life-bar--critical"))}},{key:"showGameOverScreen",value:function(e,t,n){var r=this;this.render("wins","html",e),this.render("loses","html",t);var s=encodeURIComponent("Boom! Just made a score of "+e+"/"+n+", come and beat me! #logicalornot http://gabinaureche.com/logicalornot via @zh0uzi");this.render("tweet-my-game-button","attr",{href:"https://twitter.com/home?status="+s}),this.$modal.classList.remove("u-hide"),setTimeout(function(){return r.$modal.classList.add("active")},100)}},{key:"hideGameOverScreen",value:function(){var e=this;this.$modal.classList.remove("active"),setTimeout(function(){return e.$modal.classList.add("u-hide")},500)}},{key:"isGameOverScreenVisible",value:function(){return this.$modal.classList.contains("active")}},{key:"setBestScore",value:function(e){this.render("best-score","html",e)}},{key:"animateIntro",value:function(){setTimeout(function(){return document.body.classList.add("active")},500)}},{key:"on",value:function(e,t,n){var r=void 0===arguments[3]?this:arguments[3],s=n.bind(r);document.addEventListener(t,function(t){var n=t.target,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.msMatchesSelector;r.call(n,"#bind-"+e)&&(s(t),t.preventDefault())})}}],[{key:"html",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e.innerHTML=t})},{key:"css",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"addClass",value:function(e,t){return e.classList.add(t)}},{key:"removeClass",value:function(e,t){return e.classList.remove(t)}},{key:"attr",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n]);return e}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),u=n(4),l=r(u),f=n(6),c=r(f),d=n(7),h=r(d),m=n(8),v=r(m),w=n(5),b=r(w),y=function(){function e(t){var n=this;s(this,e),this.view=t,this.mode="normal",this.round=null,this.updateBestScore(window.localStorage.getItem("bestScore")||0),this.view.onSelectAnswer=function(e){"playing"!==n.round.status&&n.startTimer(),n.round.submitAnswer(e),n.round.currentQuestion.isCorrect(e)?(n.setRandomTaunt("nice"),n.riseLifeBar()):(n.setRandomTaunt("mean"),n.dropLifeBar()),"game over"!==n.round.status&&n.round.questions.length>0?n.setRandomQuestion():(n.round.stop(),n.timer.stop(),n.showGameOverScreen())},this.view.onNewRound=this.newRound.bind(this),this.newRound(),this.view.animateIntro()}return i(e,[{key:"riseLifeBar",value:function(){var e=o["default"].getQuestionComplexity(this.round.currentQuestion.question);this.timer.delay(this.round.gameplay.gaps.winning[e])}},{key:"dropLifeBar",value:function(){var e=o["default"].getQuestionComplexity(this.round.currentQuestion.question);this.timer.forward(this.round.gameplay.gaps.losing[e])}},{key:"showGameOverScreen",value:function(){var e=this.round.score,t=e.length,n=e.reduce(function(e,t){return e+t},0),r=t-n;this.updateBestScore(Math.max(this.bestScore,n)),this.view.showGameOverScreen(n,r,t)}},{key:"updateBestScore",value:function(e){this.bestScore=e,window.localStorage.setItem("bestScore",this.bestScore),this.view.setBestScore(this.bestScore)}},{key:"setRandomQuestion",value:function(){this.round.setRandomQuestion(),this.view.setQuestion(this.round.currentQuestion)}},{key:"newRound",value:function(e){null!=e&&(this.mode=e),this.round&&("game over"===this.round.status&&this.view.hideGameOverScreen(),this.round.stop()),null!=this.timer&&this.timer.stop(),this.round=new o["default"](h["default"].slice(),c["default"][this.mode]),this.setTaunt("So, what's the result of..."),this.updateLifeBar(),this.setRandomQuestion()}},{key:"setTaunt",value:function(e){var t=void 0===arguments[1]?"nice":arguments[1],n="string"==typeof e?e:v["default"][t][e];this.view.setTaunt(n,t)}},{key:"setRandomTaunt",value:function(e){var t=v["default"][e];return this.setTaunt(b["default"](0,t.length-1),e)}},{key:"updateLifeBar",value:function(){this.view.setLifebar(this.round.hp,this.round.state)}},{key:"startTimer",value:function(){var e=this;this.timer=new l["default"](0,100,this.round.gameplay.duration),this.timer.start(function(t){return"game over"===e.round.status?void e.timer.stop():(t.done?(e.round.stop(),e.round.lifebar=0,e.showGameOverScreen()):e.round.lifebar=t.currentValue,void e.updateLifeBar())})}}]),e}();t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),u=n(5),l=r(u),f=n(10),c=(r(f),n(11)),d=r(c),h=function(){function e(t,n){s(this,e),this.questions=t,this.gameplay=n,this.status="ready",this.taunt=null,this.score=[],this.currentQuestion={},this.lifebar=100}return i(e,[{key:"stop",value:function(){this.status="game over"}},{key:"setQuestion",value:function(e){return this.gameplay.shuffleAnswers&&d["default"](e.answers),this.currentQuestion=new o["default"](e.question,e.answers),this.currentQuestion}},{key:"setRandomQuestion",value:function(){var e=l["default"](0,this.questions.length-1),t=this.questions.splice(e,1)[0];this.setQuestion(t)}},{key:"submitAnswer",value:function(e){"game over"!==this.status&&(this.status="playing",this.score.push(Number(this.currentQuestion.isCorrect(e))))}},{key:"lifebar",set:function(e){this.hp=e,this.state=this.hp>50?"normal":this.hp>20?"low":"critical"}}],[{key:"getQuestionComplexity",value:function(e){var t=void 0;return t=e.length>=15?2:e.length>=10?1:0}}]),e}();t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),o=r(a),u=60,l=function(e,t,n,r){return-n*(e/=r)*(e-2)+t},f=function(){function e(t,n,r){s(this,e),this._timerId=null,this.minValue=t,this.maxValue=n,this.iteration=0,this.totalIterations=r*u}return i(e,[{key:"start",value:function(e){(function t(){if(this.iteration>=this.totalIterations)return e({currentValue:this.maxValue,done:!0}),void(this._timerId=null);var n=l(this.iteration,this.minValue,this.maxValue,this.totalIterations),r=this.maxValue-n;e({currentValue:r,done:!1}),this.iteration++,this._timerId=o["default"].request(t.bind(this,e))}).bind(this)()}},{key:"stop",value:function(){o["default"].cancel(this._timerId)}},{key:"delay",value:function(e){this.iteration=Math.max(this.iteration-e*u,0)}},{key:"forward",value:function(e){this.iteration=Math.min(this.iteration+e*u,this.totalIterations)}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.exports=t["default"]},function(e,t,n){e.exports={normal:{duration:15,timer:!0,shuffleAnswers:!0,gaps:{winning:[15,15,15],losing:[0,0,0]}},hardcore:{duration:15,timer:!0,shuffleAnswers:!1,gaps:{winning:[1,2,3],losing:[3,2,1]}}}},function(e,t,n){e.exports=[{question:"false || true",answers:["false","true","undefined"]},{question:"null && false",answers:["null","false","true"]},{question:"(false && 'bar') || 'foo'",answers:["false","'bar'","'foo'"]},{question:"'foo' || 'bar'",answers:["'foo'","'bar'","true"]},{question:"'foo' && 'bar' || 'quz'",answers:["'foo'","'bar'","'quz'"]},{question:"!'foo' && 'bar'",answers:["true","'bar'","false"]},{question:"'foo' && !(false && null)",answers:["'foo'","false","true"]},{question:"!undefined || 'foo'",answers:["true","'foo'","false"]},{question:"'foo' || !!'bar'",answers:["'foo'","true","false"]},{question:"(null && 'foo') || 'bar'",answers:["null","'foo'","'bar'"]},{question:"(null || []).push('foo')",answers:["null","['foo']","1"]},{question:"('foo' || 'bar').indexOf('f')",answers:["-1","0","1"]},{question:"null || 'foo' && 'bar'",answers:["null","'foo'","'bar'"]},{question:"[] && [].push('foo')",answers:["'foo'","['foo']","1"]},{question:"null || [] || {}",answers:["null","[]","{}"]},{question:"!!!'foo'",answers:["'foo'","true","false"]},{question:"![].length",answers:["false","true","0"]},{question:"'foo' && ('bar' || null)",answers:["'foo'","'bar'","null"]},{question:"'foo' !== ('foo' && 'bar')",answers:["'foo'","true","false"]},{question:"2 > (3 && 0)",answers:["false","true","2"]},{question:"false && false",answers:["false","true","null"]},{question:"!false || 'foo'",answers:["false","'foo'","true"]},{question:"1 >= 1",answers:["1","true","false"]},{question:"!!['foo'].indexOf('foo')",answers:["0","true","false"]},{question:"0 == false",answers:["0","false","true"]},{question:"1 > 2",answers:["1","true","false"]},{question:"!!'foo'",answers:["'foo'","true","false"]},{question:"'foo' == 'bar'",answers:["'foo'","true","false"]},{question:"0 || 1",answers:["0","1","true"]},{question:"1 === true",answers:["1","true","false"]},{question:"null == undefined",answers:["null","true","false"]},{question:"null == 0",answers:["null","true","false"]},{question:"null > -1",answers:["null","true","false"]},{question:"null < 1",answers:["null","true","false"]},{question:"false == ''",answers:["true","false","''"]},{question:"(function(){}).length == 0",answers:["0","false","true"]}]},function(e,t,n){e.exports={nice:["Such skills!","Damn good!","That was easy...","Nice one!","Bingo!","You really know your stuff!","Score!","Excellent!","You're an inspiration","Like the Willy Wonka of JS. Magical."],mean:["Come on!","...","Really dude?","Do you even javascript?","Haha!","Are u kidding me?","Oh dear...","*sigh*","Try using the force, Luke"]}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),o=r(a),u=function(){function e(t,n){s(this,e),this.question=t,this.answers=n}return i(e,[{key:"isCorrect",value:function(e){return o["default"](this.question,e)}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),i=r(s);t["default"]=function(e,t){return i["default"](e)===i["default"](t)},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}).bind(window),s=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout).bind(window);t["default"]={request:r,cancel:s},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return"string"!=typeof(e=eval.call(void 0,e))?JSON.stringify(e):e},e.exports=t["default"]}]);